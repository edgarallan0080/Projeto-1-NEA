# graficos

#install.packages("sidrar")
library(sidrar)
library(tidyverse)
library(ggplot2)
library(descr)
library(dplyr)

dados_pnad_tri = get_sidra(api = "/t/6468/n1/all/v/all/p/all/d/v4099%201,v4103%201,v9402%201,v9405%201")


#print(dados_pnad_tri[3, 9])
# resultado : Taxa de desocupação, na semana de referência, das pessoas de 14 anos ou mais de idade


taxa_desocupacao <- dados_pnad_tri %>%
  filter(Variável == "Taxa de desocupação, na semana de referência, das pessoas de 14 anos ou mais de idade") %>%
  mutate(Ano = substr(`Trimestre (Código)`, 1, 4)) %>%  
  select(Valor, Trimestre, Ano)



# Criar gráfico de linhas 



ggplot(data = taxa_desocupacao, aes(x = Ano, y = Valor, group = 1)) +
  geom_line(color = "blue", size = 1) + # Adiciona a linha
  geom_point(color = "red", size = 2) + # Adiciona pontos nos anos
  labs(
    title = "Evolução da Taxa de Desocupação ao Longo dos Anos",
    x = "Ano",
    y = "Taxa de Desocupação (%)"
  ) +
  theme_minimal() + # Tema mais limpo
  theme(
    plot.title = element_text(hjust = 0.5, size = 14), # Centraliza o título
    axis.text.x = element_text(angle = 45, hjust = 1)  # Inclina os rótulos do eixo X
  )

